var menu=JSON.parse('[{"id":"3","type":"expression","latex":"\\\\left(0,\\\\ 3\\\\right)","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"NONE","label":"Select Gamemode (Arrows + Enter)","showLabel":true,"labelSize":"large","labelOrientation":"below","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"4","type":"expression","latex":"x=-4\\\\left\\\\{\\\\frac{\\\\cos\\\\left(a\\\\right)}{2}-0.5<y<\\\\frac{\\\\cos\\\\left(a\\\\right)}{2}+0.5\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"6","type":"expression","latex":"x=-2\\\\left\\\\{\\\\frac{\\\\cos\\\\left(a-\\\\pi\\\\right)}{2}-0.5<y<\\\\frac{\\\\cos\\\\left(a-\\\\pi\\\\right)}{2}+0.5\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"7","type":"expression","latex":"r=1","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"8","type":"expression","latex":"r=0\\\\theta+1","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"\\\\frac{\\\\pi}{2}\\\\cos\\\\left(a\\\\right)","max":"\\\\frac{\\\\pi}{2}\\\\cos\\\\left(a\\\\right)+1"},"domain":{"min":"0","max":"1"}},{"id":"10","type":"expression","latex":"x=4\\\\left\\\\{\\\\frac{\\\\cos\\\\left(a-\\\\pi\\\\right)}{2}-0.5<y<\\\\frac{\\\\cos\\\\left(a-\\\\pi\\\\right)}{2}+0.5\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"11","type":"expression","latex":"x=2\\\\left\\\\{-1<y<1\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"12","type":"expression","latex":"\\\\left(-3,\\\\ -1.5\\\\right)","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"2 Player","showLabel":true,"labelSize":"medium","labelOrientation":"below","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"14","type":"expression","latex":"\\\\left(0,\\\\ -1.5\\\\right)","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"Circular","showLabel":true,"labelSize":"medium","labelOrientation":"below","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"13","type":"expression","latex":"\\\\left(3,\\\\ -1.5\\\\right)","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"1 Player","showLabel":true,"labelSize":"medium","labelOrientation":"below","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"5","type":"expression","latex":"a=0","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"},"sliderBounds":{"min":"0","max":"2\\\\pi"}}]'),circular=JSON.parse('[{"id":"2","type":"expression","latex":"r=4","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"3","type":"expression","latex":"p=0","color":"#388c46","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"4","type":"expression","latex":"r=0\\\\theta+4","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"p-0.225","max":"p+0.225"},"domain":{"min":"0","max":"1"}},{"id":"5","type":"expression","latex":"\\\\left(x-4b_{x}\\\\right)^{2}+\\\\left(y-4b_{y}\\\\right)^{2}=0.1^{2}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"6","type":"expression","latex":"b_{x}=0","color":"#c74440","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"7","type":"expression","latex":"b_{y}=0","color":"#2d70b3","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}}]'),twoPlayer=JSON.parse('[{"id":"1","type":"expression","latex":"p_{1}=0","color":"#c74440","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"2","type":"expression","latex":"p_{2}=0","color":"#2d70b3","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"3","type":"expression","latex":"x=-4\\\\left\\\\{p_{1}-1<y<p_{1}+1\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"4","type":"expression","latex":"x=4\\\\left\\\\{p_{2}-1<y<p_{2}+1\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"5","type":"expression","latex":"x=-5\\\\left\\\\{-4<y<4\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"6","type":"expression","latex":"x=5\\\\left\\\\{-4<y<4\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"7","type":"expression","latex":"y=4\\\\left\\\\{-5<x<5\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"8","type":"expression","latex":"y=-4\\\\left\\\\{-5<x<5\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"9","type":"expression","latex":"b_{x}=0","color":"#6042a6","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"10","type":"expression","latex":"b_{y}=0","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"11","type":"expression","latex":"\\\\left(x-b_{x}\\\\right)^{2}+\\\\left(y-b_{y}\\\\right)^{2}=0.1^{2}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}}]'),onePlayer=JSON.parse('[{"id":"1","type":"expression","latex":"p_{1}=0","color":"#c74440","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"3","type":"expression","latex":"x=4\\\\left\\\\{p_{1}-1<y<p_{1}+1\\\\right\\\\}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"5","type":"expression","latex":"x=-4\\\\left\\\\{-4<y<4\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"6","type":"expression","latex":"x=5\\\\left\\\\{-4<y<4\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"7","type":"expression","latex":"y=4\\\\left\\\\{-4<x<5\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"8","type":"expression","latex":"y=-4\\\\left\\\\{-4<x<5\\\\right\\\\}","color":"#fa7e19","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"9","type":"expression","latex":"b_{x}=0","color":"#6042a6","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"10","type":"expression","latex":"b_{y}=0","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}},{"id":"11","type":"expression","latex":"\\\\left(x-b_{x}\\\\right)^{2}+\\\\left(y-b_{y}\\\\right)^{2}=0.1^{2}","color":"#000000","lineStyle":"SOLID","pointStyle":"POINT","hidden":false,"secret":false,"dragMode":"AUTO","label":"","showLabel":false,"labelSize":"medium","labelOrientation":"default","verticalLabel":false,"interactiveLabel":false,"parametricDomain":{"min":"","max":""},"polarDomain":{"min":"","max":""},"domain":{"min":"0","max":"1"}}]'),aspect=Calc.graphpaperBounds.mathCoordinates.width/Calc.graphpaperBounds.mathCoordinates.height;aspect=aspect**-1,Calc.setExpressions(menu);var inMenu=!0,animation=0,cameraAnimator=0,menuSelection=0,circularDirection=0,circularPosition={x:0,y:0},circularChar={p:0,vel:0},keyboard={r:!1,l:!1},inGame=!1,gameIn=0,gameSpeed=1,player1=0,player2=0,ball={x:0,y:0,xvel:0,yvel:0},menuAnimation=setInterval(function(){inMenu&&(animation+=.03,Calc.setExpression({id:"5",latex:"a="+Math.round(1e3*animation)/1e3}),cameraAnimator+=.01,Calc.setMathBounds({left:Math.sin(cameraAnimator)/3-6,right:6+Math.sin(cameraAnimator)/3,bottom:(Math.sin(cameraAnimator*Math.SQRT1_2)/3-6)*aspect,top:(6+Math.sin(cameraAnimator*Math.SQRT1_2)/3)*aspect}),Calc.setExpression({id:["12","14","13"][menuSelection],color:Calc.colors.ORANGE}),Calc.setExpression({id:["12","14","13"][(menuSelection+1)%3],color:Calc.colors.BLACK}),Calc.setExpression({id:["12","14","13"][(menuSelection+2)%3],color:Calc.colors.BLACK}))},1e3/60),circularInterval=setInterval(function(){if(inGame&&1==gameIn){if(circularChar.vel+=keyboard.r-keyboard.l,circularChar.vel/=1.1,circularChar.p+=circularChar.vel/75,Calc.setExpression({id:"3",latex:"p="+circularChar.p}),Calc.setMathBounds({left:Math.cos(circularChar.p)/2-6,right:6+Math.cos(circularChar.p)/2,bottom:-6*aspect+Math.sin(circularChar.p)/2,top:6*aspect+Math.sin(circularChar.p)/2}),circularPosition.x+=Math.cos(circularDirection)/(100-gameSpeed),circularPosition.y+=Math.sin(circularDirection)/(100-gameSpeed),circularPosition.x**2+circularPosition.y**2>.95)for(Math.abs((Math.atan2(circularPosition.y,circularPosition.x)+2*Math.PI)%(2*Math.PI)-(circularChar.p%(2*Math.PI)+2*Math.PI)%(2*Math.PI))>.225&&Math.abs((Math.atan2(circularPosition.y,circularPosition.x)+2*Math.PI)%(2*Math.PI)-(circularChar.p%(2*Math.PI)+2*Math.PI)%(2*Math.PI))<2*Math.PI-.225&&gotoMenu(),circularDirection=Math.atan2(circularPosition.y,circularPosition.x)+Math.PI+Math.random()-.5;circularPosition.x**2+circularPosition.y**2>.95;)circularPosition.x+=Math.cos(circularDirection)/(100-gameSpeed),circularPosition.y+=Math.sin(circularDirection)/(100-gameSpeed);inGame&&Calc.setExpression({id:"6",latex:"b_{x}="+circularPosition.x}),inGame&&Calc.setExpression({id:"7",latex:"b_{y}="+circularPosition.y}),gameSpeed+=.01}},1e3/60),oneInterval=setInterval(function(){inGame&&2==gameIn&&(Calc.setExpression({id:"1",latex:"p_{1}="+Math.round(1e3*player1)/1e3}),Calc.setExpression({id:"9",latex:"b_{x}="+Math.round(1e3*ball.x)/1e3}),Calc.setExpression({id:"10",latex:"b_{y}="+Math.round(1e3*ball.y)/1e3}),ball.x+=3*ball.xvel/(100-gameSpeed),ball.y+=3*ball.yvel/(100-gameSpeed),ball.x>4&&(Math.abs(ball.y-player1)>1&&gotoMenu(),ball.xvel=-1,ball.yvel=3*Math.random()-1.5),(ball.y>4||ball.y<-4)&&(ball.yvel*=-1),ball.x<-4&&(ball.xvel=1),keyboard.u&&(player1+=.1),keyboard.d&&(player1-=.1),player1>3&&(player1=3),player1<-3&&(player1=-3),cameraAnimator+=.01,Calc.setMathBounds({left:Math.sin(cameraAnimator)/3-6,right:6+Math.sin(cameraAnimator)/3,bottom:(Math.sin(cameraAnimator*Math.SQRT1_2)/3-6)*aspect,top:(6+Math.sin(cameraAnimator*Math.SQRT1_2)/3)*aspect}))}),twoInterval=setInterval(function(){inGame&&0==gameIn&&(Calc.setExpression({id:"1",latex:"p_{1}="+Math.round(1e3*player1)/1e3}),Calc.setExpression({id:"2",latex:"p_{2}="+Math.round(1e3*player2)/1e3}),Calc.setExpression({id:"9",latex:"b_{x}="+Math.round(1e3*ball.x)/1e3}),Calc.setExpression({id:"10",latex:"b_{y}="+Math.round(1e3*ball.y)/1e3}),ball.x+=3*ball.xvel/(100-gameSpeed),ball.y+=3*ball.yvel/(100-gameSpeed),ball.x>4&&(Math.abs(ball.y-player2)>1&&gotoMenu(),ball.xvel=-1,ball.yvel=3*Math.random()-1.5),ball.x<-4&&(Math.abs(ball.y-player1)>1&&gotoMenu(),ball.xvel=1,ball.yvel=3*Math.random()-1.5),(ball.y>4||ball.y<-4)&&(ball.yvel*=-1),keyboard.u&&(player2+=.1),keyboard.d&&(player2-=.1),player2>3&&(player2=3),player2<-3&&(player2=-3),keyboard.w&&(player1+=.1),keyboard.s&&(player1-=.1),player1>3&&(player1=3),player1<-3&&(player1=-3),cameraAnimator+=.01,gameSpeed+=.01,Calc.setMathBounds({left:Math.sin(cameraAnimator)/3-6,right:6+Math.sin(cameraAnimator)/3,bottom:(Math.sin(cameraAnimator*Math.SQRT1_2)/3-6)*aspect,top:(6+Math.sin(cameraAnimator*Math.SQRT1_2)/3)*aspect}))});function selectGamemode(e){inMenu=!1;for(var a=0;a<menu.length;a++)Calc.removeExpression(menu[a]);if(1==e){Calc.setExpressions(circular),circularPosition={x:0,y:0},circularChar={p:0,vel:0},circularDirection=0,inGame=!0,gameIn=1}if(0==e){Calc.setExpressions(twoPlayer),ball={x:0,y:0,xvel:1,yvel:0},inGame=!0,gameIn=0;player1=0,player2=0}if(2==e){Calc.setExpressions(onePlayer),ball={x:0,y:0,xvel:1,yvel:0},inGame=!0,gameIn=2;player1=0}}function gotoMenu(){menuSelection=0,inMenu=!0,inGame=!1;for(var e=0;e<Calc.getExpressions().length;e++)Calc.removeExpression(Calc.getExpressions()[e]);Calc.setExpressions(menu)}document.addEventListener("keydown",function(e){"ArrowRight"==e.key&&(keyboard.r=!0,menuSelection++),"ArrowLeft"==e.key&&(keyboard.l=!0,menuSelection--),"ArrowUp"==e.key&&(keyboard.u=!0),"ArrowDown"==e.key&&(keyboard.d=!0),"w"==e.key&&(keyboard.w=!0),"s"==e.key&&(keyboard.s=!0),"Enter"==e.key&&inMenu&&selectGamemode(menuSelection),menuSelection+=3,menuSelection%=3}),document.addEventListener("keyup",function(e){"ArrowRight"==e.key&&(keyboard.r=!1),"ArrowLeft"==e.key&&(keyboard.l=!1),"ArrowUp"==e.key&&(keyboard.u=!1),"ArrowDown"==e.key&&(keyboard.d=!1),"w"==e.key&&(keyboard.w=!1),"s"==e.key&&(keyboard.s=!1)});